# 📊 Blog API カバレッジレポート

**生成日時**: 2025年6月3日 14:26

## 📈 カバレッジ概要

| 項目 | 値 |
|------|-----|
| **総合カバレッジ** | 98% |
| **対象ステートメント** | 1009 |
| **カバー漏れ** | 24 |
| **除外ファイル** | run_continuous_tests.py, generate_summary_report.py |

## 🔍 ファイル別カバレッジ

| ファイル | ステートメント | カバー漏れ | カバレッジ | 備考 |
|---------|--------------|-----------|----------|------|
| **custom_token.py** | 94 | 0 | 100% | ✅ 完全カバレッジ |
| **database.py** | 89 | 2 | 98% | 行番号 84-86 がカバーされていません |
| **hashing.py** | 9 | 0 | 100% | ✅ 完全カバレッジ |
| **logger/__init__.py** | 0 | 0 | 100% | ✅ 完全カバレッジ |
| **logger/custom_logger.py** | 21 | 0 | 100% | ✅ 完全カバレッジ |
| **main.py** | 42 | 3 | 93% | 行番号 30, 40-42 がカバーされていません |
| **models.py** | 37 | 0 | 100% | ✅ 完全カバレッジ |
| **oauth2.py** | 37 | 0 | 100% | ✅ 完全カバレッジ |
| **routers/__init__.py** | 0 | 0 | 100% | ✅ 完全カバレッジ |
| **routers/article.py** | 156 | 0 | 100% | ✅ 完全カバレッジ |
| **routers/auth.py** | 98 | 0 | 100% | ✅ 完全カバレッジ |
| **routers/user.py** | 201 | 5 | 98% | 行番号 162, 435-436, 443, 456 がカバーされていません |
| **schemas.py** | 89 | 10 | 89% | 行番号 64-77 がカバーされていません |
| **utils/__init__.py** | 0 | 0 | 100% | ✅ 完全カバレッジ |
| **utils/email_sender.py** | 113 | 4 | 96% | 行番号 229, 280, 347, 409 がカバーされていません |
| **utils/email_validator.py** | 23 | 0 | 100% | ✅ 完全カバレッジ |

## 📝 カテゴリ別カバレッジ分析

### 🔐 認証システム
- **oauth2.py**: 100% カバレッジ達成
- **custom_token.py**: 100% カバレッジ達成
- **hashing.py**: 100% カバレッジ達成

### 📋 データモデル
- **models.py**: 100% カバレッジ達成
- **schemas.py**: 89% カバレッジ（スキーマ検証ロジックの一部がカバーされていません）

### 🔄 ルーター
- **routers/article.py**: 100% カバレッジ達成
- **routers/auth.py**: 100% カバレッジ達成
- **routers/user.py**: 98% カバレッジ（エラー処理の一部とエッジケースがカバーされていません）

### 🛠 ユーティリティ
- **utils/email_sender.py**: 96% カバレッジ
- **utils/email_validator.py**: 100% カバレッジ達成

## 🚀 改善点

以下の項目についてテストを強化することで、カバレッジをさらに向上させることができます：

1. **schemas.py** (89%) - バリデーションロジックのエッジケース
2. **routers/user.py** (98%) - ユーザー削除処理のエラーハンドリング
3. **database.py** (98%) - データベース接続エラーのハンドリング
4. **main.py** (93%) - アプリケーション起動とシャットダウン処理

## 📌 注意点

- `run_continuous_tests.py` と `generate_summary_report.py` はレポート対象から除外されています
- カバレッジレポート作成には `coverage.py v7.8.0` が使用されました
- このレポートは自動テストの結果に基づいており、手動テストは含まれていません
- 高カバレッジでも、エッジケースやセキュリティの脆弱性を完全に排除するものではありません

## 💡 レポート作成コマンド

最新のカバレッジレポートを生成するには、以下のコマンドを実行してください：

```bash
# テスト実行とカバレッジデータ収集
coverage run -m pytest

# カバレッジレポート生成（特定ファイルを除外）
coverage html --omit="run_continuous_tests.py,generate_summary_report.py"

# レポートは htmlcov/index.html に生成されます
```

---

**作成者**: Blog API 開発チーム  
**最終更新**: 2025年6月3日

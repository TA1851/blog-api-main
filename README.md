## ãƒ–ãƒ­ã‚°APIãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ç®¡ç†ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹RESTful APIã§ã™ã€‚


### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- è¨€èªž: Python 3.11.11
- Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: FastAPI 0.115.12
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: SQLite3
- ORM: SQLAlchemy
- èªè¨¼: JWT (JSON Web Token)
- ãƒ†ã‚¹ãƒˆï¼šPytest
- ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šï¼šCoverage.py
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Sphinx
- ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ: Render

### ä¸»ãªæ©Ÿèƒ½
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ï¼ˆãƒ¡ãƒ¼ãƒ«èªè¨¼ï¼‰
- ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼(JWTèªè¨¼)
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—ã¨æ›´æ–°
- ãƒ¦ãƒ¼ã‚¶æƒ…å ±å‰Šé™¤å‡¦ç†
- è¨˜äº‹ã®ä½œæˆ
- è¨˜äº‹ã®å–å¾—
- è¨˜äº‹ã®æ›´æ–°
- è¨˜äº‹ã®å‰Šé™¤
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã®è¨˜éŒ²

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
- routers/: API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®šç¾©
- article.py: è¨˜äº‹é–¢é€£ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- auth.py: èªè¨¼é–¢é€£ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- user.py: ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- models.py: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©
- schemas.py: Pydanticã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã‚¹ã‚­ãƒ¼ãƒž
- database.py: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æŽ¥ç¶šã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- hashing.py: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–æ©Ÿèƒ½
- oauth2.py: JWTèªè¨¼ã®å®Ÿè£…
- custom_token.py: ã‚«ã‚¹ã‚¿ãƒ ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆæ©Ÿèƒ½
- logger/: ãƒ­ã‚®ãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…
- tests/: ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¨ãƒ¬ãƒãƒ¼ãƒˆï¼ˆ22ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
  - tests/report/: åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆé›† ðŸ“Š
- archives/: éŽåŽ»ã®ãƒ†ã‚¹ãƒˆçµæžœã¨ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
  - coverage_json/: éŽåŽ»ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆï¼ˆJSONå½¢å¼ã€35ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
  - test_results_xml/: éŽåŽ»ã®ãƒ†ã‚¹ãƒˆçµæžœï¼ˆXMLå½¢å¼ã€37ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

### ERå›³
ã‚³ãƒ¼ãƒ‰ã§ERå›³ã‚’ã‹ã‘ã‚‹ã‚µãƒ¼ãƒ“ã‚¹(dbdiagram.io)ã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚

[dbdiagram.io](https://dbdiagram.io/home?utm_source=dbdiagram)


![ERå›³](/img/Untitled.png)

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯Sphinxã§ç”Ÿæˆã—ã¾ã—ãŸã€‚

![](./img/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ%202025-06-05%2015.47.17.png)


### ðŸ“ çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  âœ¨

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½“ç³»çš„ã«æ•´ç†ã•ã‚Œã¦ã„ã¾ã™ï¼š

- **ðŸŽ¯ reports/**: çµ±åˆãƒ¬ãƒãƒ¼ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  - **ðŸ“Š test_results/**: HTMLãƒ†ã‚¹ãƒˆçµæžœãƒ¬ãƒãƒ¼ãƒˆ
  - **ðŸ› bug_reports/**: ãƒã‚°ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãƒ¬ãƒãƒ¼ãƒˆ  
  - **ðŸ“ˆ coverage_html/**: HTMLã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
    - **current/**: æœ€æ–°ã‚«ãƒãƒ¬ãƒƒã‚¸ (4ç¨®é¡ž)
    - **archived/**: éŽåŽ»ã®ã‚«ãƒãƒ¬ãƒƒã‚¸
  - **ðŸ“„ json_data/**: JSONãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
  - **ðŸ“ markdown_reports/**: Markdownãƒ¬ãƒãƒ¼ãƒˆ
  - **ðŸŽ¨ index.html**: çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

- **ðŸ—‚ï¸ archives/**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ç®¡ç† âœ¨**æ–°è¦**
  - **coverage_json/**: éŽåŽ»ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ (35ãƒ•ã‚¡ã‚¤ãƒ«)
  - **test_results_xml/**: éŽåŽ»ã®ãƒ†ã‚¹ãƒˆçµæžœ (37ãƒ•ã‚¡ã‚¤ãƒ«)
  - **README.md**: ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ§‹é€ ã®èª¬æ˜Ž

- **ðŸ“¦ test_reports/**: æœ€æ–°ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
  - **test_report_20250605_213356.html**: æœ€æ–°ã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ

- **âš™ï¸ scripts/**: è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
  - `organize_xml_files.py`: XMLè‡ªå‹•æ•´ç†
  - `organize_html_files.py`: HTMLè‡ªå‹•æ•´ç†  
  - `unified_organizer.py`: çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†
  - `XML_AUTOMATION_GUIDE.md`: è‡ªå‹•åŒ–è¨­å®šã‚¬ã‚¤ãƒ‰

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- /api/v1/login: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã¨ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ
- /api/v1/user: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨ç®¡ç†
- /api/v1/articles: ãƒ–ãƒ­ã‚°è¨˜äº‹ã®ä½œæˆãƒ»èª­å–ãƒ»æ›´æ–°ãƒ»å‰Šé™¤
- /api/v1/verify-email: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèª
- /api/v1/resend-verification: ç¢ºèªãƒ¡ãƒ¼ãƒ«ã‚’å†é€ä¿¡ã™ã‚‹

### ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å­¦ã‚“ã ã“ã¨

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ŒåŸºç¤Žã‹ã‚‰å­¦ã¶FastAPIå®Ÿè·µå…¥é–€ã€ã¨ã„ã†æ›¸ç±ã§å­¦ç¿’ã—ã€
ã“ã‚Œã¾ã§çµŒé¨“ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å¾—ãŸçŸ¥è­˜ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã«çµ„ã¿è¾¼ã‚“ã ã‚Šã€å­¦ç¿’ã‚’
é€²ã‚ã‚‹éŽç¨‹ã§å¾—ãŸçŸ¥è­˜ã‚’å–ã‚Šå…¥ã‚Œã¦è‡ªåˆ†é¢¨ã«ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºã—ã¾ã—ãŸã€‚
ã¾ãŸã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã¯ã€Pythonè£½ã®Sphinxã§è‡ªå‹•ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚  
è‡ªå‹•ç”Ÿæˆã®æ‰‹æ³•ã¯PyCon2019ã§ç´¹ä»‹ã•ã‚ŒãŸdocstringã‹ã‚‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã¨ã„ã†ã‚‚ã®ã‚’
å‚è€ƒã«ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã«ã¯Notionã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚
ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šã«ã¯Coverage.pyã‚’æŽ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

### ðŸ“Š ãƒ†ã‚¹ãƒˆãƒ»å“è³ªç®¡ç†

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¨ç¶™ç¶šçš„å“è³ªç®¡ç†ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼š

#### ãƒ†ã‚¹ãƒˆçµ±è¨ˆ
- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 266ãƒ†ã‚¹ãƒˆ
- **æˆåŠŸçŽ‡**: 100%
- **ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸**: 84.27%
- **å“è³ªã‚¹ã‚³ã‚¢**: A+

#### ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
è©³ç´°ãªãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã¯ [`tests/report/`](tests/report/) ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ç¢ºèªã§ãã¾ã™ï¼š
- ðŸ“ **Markdownãƒ¬ãƒãƒ¼ãƒˆ**: åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆçµæžœã¨ã‚«ãƒãƒ¬ãƒƒã‚¸åˆ†æž
- ðŸ› **ãƒã‚°ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°**: ç¶™ç¶šçš„ãªå“è³ªç›£è¦–ãƒ¬ãƒãƒ¼ãƒˆ
- ðŸ“ˆ **ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ**: 
  - [`test_reports/test_report_20250605_213356.html`](test_reports/test_report_20250605_213356.html): æœ€æ–°ã®HTMLãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
- ðŸ“‹ **ãƒ†ã‚¹ãƒˆçµæžœ**: XMLå½¢å¼ã®è©³ç´°çµæžœï¼ˆæœ€æ–°ï¼š2025-06-05ï¼‰
- ðŸ—‚ï¸ **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–**: [`archives/`](archives/) - éŽåŽ»ã®ãƒ†ã‚¹ãƒˆçµæžœã¨ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«

#### ä¸»è¦ãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ22ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- `test_email_validator.py`: ãƒ¡ãƒ¼ãƒ«ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ (35ãƒ†ã‚¹ãƒˆ, 100%ã‚«ãƒãƒ¬ãƒƒã‚¸) âœ¨
- `test_email_sender.py`: ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚·ã‚¹ãƒ†ãƒ  (48ãƒ†ã‚¹ãƒˆ, 96%ã‚«ãƒãƒ¬ãƒƒã‚¸) âœ¨
- `test_custom_token.py`: JWTèªè¨¼ãƒ»ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç† (47ãƒ†ã‚¹ãƒˆ)
- `test_oauth2.py`: OAuth2èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  (27ãƒ†ã‚¹ãƒˆ)
- `test_hashing.py`: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ– (44ãƒ†ã‚¹ãƒˆ)
- `test_database.py`: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ (26ãƒ†ã‚¹ãƒˆ)
- `test_models.py`: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«æ¤œè¨¼ (19ãƒ†ã‚¹ãƒˆ)
- `test_schemas.py`: ã‚¹ã‚­ãƒ¼ãƒžæ¤œè¨¼ (40ãƒ†ã‚¹ãƒˆ)
- `test_integration.py`: çµ±åˆãƒ†ã‚¹ãƒˆ (14ãƒ†ã‚¹ãƒˆ)
- `test_main.py`: ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (25ãƒ†ã‚¹ãƒˆ)
- `test_article_router.py`: è¨˜äº‹ç®¡ç†API (28ãƒ†ã‚¹ãƒˆ)
- `test_auth_router.py`: èªè¨¼API (22ãƒ†ã‚¹ãƒˆ)
- `test_user_router.py`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†API (30ãƒ†ã‚¹ãƒˆ)
- ãã®ä»–ã®å°‚é–€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (9ãƒ•ã‚¡ã‚¤ãƒ«)

## ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆï¼ˆ2025å¹´6æœˆ5æ—¥æ›´æ–°ï¼‰
```
Name                       Stmts   Miss  Cover   Missing
--------------------------------------------------------
custom_token.py               94      0   100%
database.py                   89      2    98%   84-86
hashing.py                     9      0   100%
logger/__init__.py             0      0   100%
logger/custom_logger.py       21      0   100%
main.py                       42      3    93%   30, 40-42
models.py                     37      0   100%
oauth2.py                     37      0   100%
routers/__init__.py            0      0   100%
routers/article.py           156      0   100%
routers/auth.py               98      0   100%
routers/user.py              201      5    98%   162, 435-436, 443, 456
schemas.py                    89     10    89%   64-77
utils/__init__.py              0      0   100%
utils/email_sender.py        113      4    96%   229, 280, 347, 409
utils/email_validator.py      23      0   100%
--------------------------------------------------------
TOTAL                       4248    668   84.27%
```

> **æ³¨æ„**: `coverage html` ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹éš›ã«ã€ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ç”¨ã§ãã¾ã™:
> ```bash
> coverage html --omit="run_continuous_tests.py,generate_summary_report.py"
> ```


# ðŸ› ç¶™ç¶šçš„ãƒã‚°ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãƒ¬ãƒãƒ¼ãƒˆ

ç”Ÿæˆæ—¥æ™‚: 2025-06-05 21:33:56

## ðŸ“Š ä¸»è¦ãƒ¡ãƒˆãƒªã‚¯ã‚¹

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | å€¤ | å‚¾å‘ |
|-----------|-----|------|
| ç·ãƒ†ã‚¹ãƒˆæ•° | 266 | - |
| æˆåŠŸçŽ‡ | 100% | +10.1% |
| æ–°è¦ãƒã‚° | 0 | - |
| ä¿®æ­£ã•ã‚ŒãŸãƒã‚° | 50 | - |

## ðŸ“ˆ ãƒã‚°ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æž

| é …ç›® | å€¤ |
|------|-----|
| æ¯”è¼ƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ | continuous-20250603-135923 â†’ continuous-20250605-213356 |
| æ–°è¦ãƒã‚° | 0ä»¶ |
| ä¿®æ­£ã•ã‚ŒãŸãƒã‚° | 50ä»¶ |
| ç¶™ç¶šä¸­ã®ãƒã‚° | 0ä»¶ |

## âœ… ä¿®æ­£ã•ã‚ŒãŸãƒã‚°

- **ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒæ­£å¸¸ã«å‹•ä½œ** - 100%æˆåŠŸçŽ‡ã‚’é”æˆ
- **ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸ã®æœ€é©åŒ–** - 84.27%ã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¶­æŒ
- **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…** - ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã®åŠ¹çŽ‡åŒ–

> **æ³¨**: å®Œå…¨ãªãƒã‚°ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãƒ¬ãƒãƒ¼ãƒˆã¯ [`bug_history.json`](bug_history.json) ã§ç¢ºèªã§ãã¾ã™ã€‚
> 
> **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ç®¡ç†**: éŽåŽ»ã®ãƒ†ã‚¹ãƒˆçµæžœã¨ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã¯ [`archives/`](archives/) ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ•´ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚
> æœ€æ–°ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ—¥: 2025-06-05 21:33:56
